#summary A developer's definitive guide for diving into nsync internals
#labels Phase-Design,Phase-Requirements

<wiki:toc max_depth="2" />

= Overview =

nsync is a free, open source file synchronization software for Windows running on the Microsoft .NET platform.

nsync allows the synchronization of your data between desktop PCs, laptops, USB drives and more. We pride our software in being built ‘by users, for users’. Hence, we have come out with an ‘elegant and easy-to-use’ interface, which does synchronization ‘reliably and intelligently’. The product has specially been designed by keeping the novice user in mind.

nsync is a minimalistic product capable of performing synchronization and other tasks with just a few clicks. Following our brand name – nsync (synchronization made easy) is capable of synchronizing a number of devices with ease.

After careful market research and segmentation, we decided to deliver a simple and easy-to- use intuitive software/product – nsync with essential and accessible features and sufficient customization options. Novice users (our target population) are not completely comfortable with the intricacies of the PC and are only concerned with maintaining their files synchronized on multiple PC’s (like home PC, office PC etc) and they aim to get it done fast in this busy world. So nsync is devoid of any useless feature which doesn’t bother the user. Unlike other softwares, nsync has a very sleek and clean interface with an intuitive drag-and-drop design.

nsync does not aim to provide many advanced features, thereby compromising with the quality of each because the producers of the software believe in providing the best out of what is actually required and in the best possible way.

== This is the nsync way ==

Here we present to you not just our product, but our vision too. We hope to make this yours as well and we promise it’ll take just 3 minutes of your time!

 * *Be minimalistic* 
  * The less there is on the interface, the better. Put what’s really needed up there.
 * *Don’t prompt, make intelligent guesses*
  * Notify the users that we’ve made a guess and allow them to make their own decisions. Do this gently and unassumingly.
 * *Make it pretty*
  * Packaging is important; make it eye-catching but not overly or offensively so.
 * *Understandable* 
  * No manual or instructions should be needed.
 * *Fast*
  * Synchronization has to be fast.
 * *Stick to the above principles!* 
  *We are engineers, designers and programmers, but above all, we’re users too. Put the user first.

== Functionality Overview ==
=== V0.0 ===
This was the most basic nsync tool, with a 2-way synchronization function; an easy-to-use, intuitive, fast and attractive interface. The version is already out. The functionalities of the few implemented features in this version are listed below in detail:

==== Synchronization ====
 * 2-way synchronization (Sync two folders)
 * Update functionality (update both folders with the latest versions of documents and files)
 * Space check (checks if there is available space for synchronization)

==== Easy to use, intuitive, fast and attractive interface ====
 * Regular folder browsing where you click and select the source/destination folder.
 * Apart from the regular folder browsing, nsync also comes with a Drag and Drop feature (Folders can be dragged from anywhere in Windows into nsync and it is capable of recognizing them)
 * To minimise the untidiness and make the interface look smooth and clean, nsync automatically displays the sync button only when both source and destination folders have been chosen.

==== nsync remembers what you sync ====
 * Even after being closed and then opened again, nsync remembers your last synced folders (the source and the destination folder)

==== Sync using a removable drive ====
 * nsync is capable of syncing a removable drive with other folders on the computer.

=== V0.9 ===
This was an internal beta release with more refined features. It wasn’t released to the public because the software was undergoing a testing phase to find the various bugs/enhancements in its functionality, GUI, etc. The first public release after resolving all the bugs would be v1.0.
The added functionalities of the various features are listed below in detail:

==== Intelligence ====
 * nsync’s differentiating factor among the other synchronization tools is its intelligence which makes it stand apart. There exists an in built powerful help function to provide help and timely information throughout the software. Beats reading a 1000 page help file!
 * When left folder is a subfolder of right folder or vice versa, it does not allow the sync process to continue so as to prevent an infinite loop.
 * It also alerts the user in the case of an operation being performed incorrectly. Eg: If a user is trying to sync the same folders, the help guide pops up an unobtrusive message window saying “The left and right folder cannot be similar”
 * It allows you to continue with your other work while the sync process is being carried and a notification saying “sync done” pops up in front of your active window as soon as the sync is done.
 * It saves you time in identifying the already synchronized folders and alerts if they are up to date.
 * It checks and reports if one or more of the selected folders has been moved/does not exist by displaying an appropriate message.

==== Additional UI features ====
 * Folder icon changes accordingly if the selected folders are missing/do not exist. Even on driving in a removable drive or selecting a folder within a removable drive using the folder browsing technique, the folder icon changes to that of a removable drive.
 * To keep track of the sync operation, we have 3 indication bars at the bottom of the interface – status bar (displays status messages like preparing folders/syncing folders/sync completed), progress bar and percentage bar (shows sync progress in percentage)
 * The progress bar is so designed that it fills up the team 14 logo orange as sync proceeds. It makes it more appealing to the eye thereby conveying the information to the user about a sync operation’s progress.
 * A slider window to access different pages mainly Settings, Main Window and Track Back (to be included in the next release). When we move the mouse over the left and right side of the interface, a small button appears clicking on which makes you slide to the next page in line up. On mouse click and hold, the image of the button becomes depressed.
 * When the user reaches the leftmost/rightmost page of nsync, the left/right slider bar won’t appear at all respectively.
 * Another way to navigate through the interface pages is by the use of dots (Navidots). These appear at the top part of the interface and clicking on them, you can directly jump to any page out of Settings, Main Window and Track Back (to be included in the next release).
 * Last 5 successfully synced folders are saved in a MRU (Most Recently Used) list which can be accessed by moving the mouse over the folder space.
 * The MRU list also takes care of not having any duplicate folder pairs in the last 5 synced pairs.
 * To avoid any hang up or crashing and to prevent the user from committing any mistake unknowingly, the interface disables the scrolling buttons, the Navidots and the MRU list box while syncing. Also, you can minimize or move the main window/interface while syncing but cannot close the application.
 * Tool Tip feature - It displays the functionality of each and every button as you scroll the mouse over it.
 * Long folder path names are truncated automatically to avoid giving a messy look in the MRU, instead all folder paths would have a tooltip displaying their full folder path.
 * The helper/notification window resets its position according to how we drag the main window. It either fits itself at the top or the bottom of the interface window.

==== Settings page ====
 * Allows the users to enable/disable features and change settings according to their wish. For example, users can choose to have the helper window (notifications) on/off (v1.0)
 * Future options would be to allow users to toggle features like Track Back (v2.0), exclude (v2.0), etc.

=== V1.0 ===
This is the first public release of our software. It comes directly after v0.9 containing the same features as the last release but with all the bugs and enhancements incorporated in v1.0
The list of all the bugs and the enhancements added in our product can be found in the Appendices column (Appendix D)

Since this is a public release, our software which is free and open source could be used by anyone and everyone. The source code, developer and user guide, along with the executable file would be available for download from the GCPH. After this, accumulating the various inputs from the end users etc, we would try to refine our product further by improving upon our current release while going towards v2.0

We also plan to include more features in our second and last public release, v2.0, which are listed on the next page.

=== V2.0 ===
v2.0 is nsync’s second and the final public release. The fully packaged software is available on our website. It has been designed with the idea of keeping it simple, elegant and easy-to-use.
The functionalities of other features that were added into v2.0 are listed below:

==== Log/ summary report file ====
 * Produces a summary report at the end of the sync operation. nsync itself prompts the user to see the report if there is a renaming conflict else the user has to manually go to the log folder to see the report. The report displays the outcome of the sync operation (successful/unsuccessful) and states the cause of the conflict (if any).

==== TrackBack ====
 * Before every sync session, a backup file of the folder pair is created for restoration purposes. By Track Back we propose to have a time machine kind of feature that allows you to restore your files/folders of a particular day, e.g.: Restore the folder version as on last Monday before sync was carried out on it.
 * Track Back enables the user to restore the pre sync state of the last 5 saved folder pair versions. It all happens in just 1 click. Track Back is disabled by default. A change in the Settings is required to enable it.
 * The user has the option to either restore only the left folder or the right folder or both.

==== Visual Preview ====
 * The users can click a preview button on the home page (next to Sync button) which shows them the post sync state of either both the folders or just the right folder or just the left folder. The possible actions could be create / delete / rename / change /no change (denoted by blank)

==== Exclude ====
 * The users can drag and drop files to be excluded from the sync operation.
 * The users can also select files of specific types to be excluded based on their extension. 
 * Clicking the close button directs you to the home page where you have to click sync again if you wish to. While clicking the continue button continues with the sync operation thereby excluding the mentioned files.
 * By default, this feature is disabled. Once the user enables it in the Settings page, this window automatically appears whenever the user clicks the sync button.

==== Stop Sync ====
 * Allows users to stop a sync process midway. It leads to an incomplete sync since only some files are synchronized.
 * The cancel sync appears only when sync is in progress. It’s executed using the same “Sync” button.

==== Improved Settings Page ====
 * Users can choose to enable/disable the Track Back feature
 * Users can choose to enable/disable the Exclude window
 * Users can choose the duration for helper/notification window to appear ranging from 0 sec (not at all) to infinity (doesn’t go away on its own – need to be manually closed)
 * Other options available are :
  * Clear Meta Data – It clears the metadata file from both the folders (if it exists, that is, if the folders have been synced before)
  * Reset Settings – It forgets everything (track back versions, left and right folder etc), resets the settings, and brings everything back to the state that nsync was in right after installation.
  * Open Log Folder – Opens the folder where you can see the log/summary report
  * Clear Log Folder – Clears the log/summary report from the log folder.
 * The default settings include – Disabled Track Back, Disabled Exclude, and timer for notification window which has a default value of 5 seconds.

==== Intelligence continued ====
 * nsync is capable of identifying shortcuts and thanks to its intelligence, it can link to the actual folder path (to which the shortcuts points). So whenever a user drags in a shortcut, the folder that the shortcut points to appears instead.
 * If the user chooses to set the duration for helper window to 0 seconds (does not show at all) in the settings page, nsync still shows few notifications which it considers to be really crucial and important for alerting the user like “Sync Done”, “Folder restored”, “Insufficient Disk Space”, “Folder do not exist”, “Similar folder”, “Subfolder of the other”.
 * nsync syncs the file on the opposite side in the correct folder hierarchy without bothering the user. Example:
  * User syncs 2 folders, namely LeftFolder and RightFolder.
  * User updates a subfolder named A inside LeftFolder and wants to propagate these changes in the subfolder A of RightFolder.
  * User drags in LeftFolder/A in the left, the right side automatically changes to RightFolder/A, hence only the required folders would be synced again and not the full parent folders.
 * nsync remembers the removable drive sync – If it’s a thumb drive or any other removable drive, nsync remembers the last synced folder in the removable drive and restores back the folder once the drive is plugged in again under certain conditions (there are no files in the removable drive, only folders exist). Example:
  * User syncs G:/test1 and C:/Program files
  * User now syncs G:/test2 and C:/Program files
  * Now the user syncs some other folder pairs excluding the removable drive G:
  * At this point, if user drags in G: again, the last synced folder would appear, that is, G:/test2 would appear.
This only happens under certain conditions (there aren’t any files but just folders in the removable drive)
Reason: We don’t want to outsmart the user because there could be a case where he actually wants to sync the files present in G:/, so it isn’t appropriate to make G:/test2 appear when actually just G:/ is required.
 * nsync recognises a removable drive by its serial number, so even if we change the drive name, nsync recognises it and remembers its last synced folder.
 * Visual Preview remembers the last filter option (Show changes for Both / Left / Right folder) for each folder pair that was synced.
 * nsync detects folders/files that are locked, shows a helper window message saying which file/folder is locked, and then closes elegantly, instead of crashing like other software. Hence nsync doesn’t crash if %APPDATA%\nsync or any of its subfolder/files are locked. 

==== GUI additions/ improvements ====
 * Throughout our implementation phase, we have kept our GUI consistent to make it easy for use. Example: Drag and drop wherever needed; consistent use of colours and text.
 * Use of tooltip makes it more intuitive and self explanatory for the user. The tooltip in Visual Preview displays the full path for each file that is waiting to be synced in the left/right folder.
 * We believe in a minimalistic design with less cluttered features/buttons, hence we decided to have the “Cancel sync” button in the same place as “Sync button”.
 * Use of colour coding makes it more readable and clearer to the users. Example: 
  * In Visual Preview, folders are differentiated from files using colour coding.
  * In Exclude, colour coding is used to differentiate specific file types (based on their extension), individual files and folders dragged in, and other folders dragged in that are not present in any of the left/right folder.

==== Debug Logger  ====
 * We have added a debug logger class where we record all the user actions and notifications/messages so that in case of an unexpected error/crash, users can send the debugger file to us. Users can find it in the debug folder.


